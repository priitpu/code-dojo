(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const qe=(e,n)=>e===n,Fe=Symbol("solid-track"),W={equals:qe};let xe=Le;const q=1,Y=2,$e={owned:null,cleanups:null,context:null,owner:null};var y=null;let le=null,He=null,$=null,E=null,B=null,te=0;function X(e,n){const t=$,l=y,s=e.length===0,i=n===void 0?l:n,o=s?$e:{owned:null,cleanups:null,context:i?i.context:null,owner:i},r=s?e:()=>e(()=>j(()=>ne(o)));y=o,$=null;try{return M(r,!0)}finally{$=t,y=l}}function T(e,n){n=n?Object.assign({},W,n):W;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},l=s=>(typeof s=="function"&&(s=s(t.value)),ke(t,s));return[Pe.bind(t),l]}function C(e,n,t){const l=ae(e,n,!1,q);G(l)}function Ae(e,n,t){xe=Ge;const l=ae(e,n,!1,q);l.user=!0,B?B.push(l):G(l)}function I(e,n,t){t=t?Object.assign({},W,t):W;const l=ae(e,n,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=t.equals||void 0,G(l),Pe.bind(l)}function V(e){return M(e,!1)}function j(e){if($===null)return e();const n=$;$=null;try{return e()}finally{$=n}}function Me(e){Ae(()=>j(e))}function Ce(e){return y===null||(y.cleanups===null?y.cleanups=[e]:y.cleanups.push(e)),e}function Ke(e,n){const t=Symbol("context");return{id:t,Provider:Xe(t),defaultValue:e}}function Ee(e){return y&&y.context&&y.context[e.id]!==void 0?y.context[e.id]:e.defaultValue}function Ve(e){const n=I(e),t=I(()=>ie(n()));return t.toArray=()=>{const l=t();return Array.isArray(l)?l:l!=null?[l]:[]},t}function Pe(){if(this.sources&&this.state)if(this.state===q)G(this);else{const e=E;E=null,M(()=>z(this),!1),E=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function ke(e,n,t){let l=e.value;return(!e.comparator||!e.comparator(l,n))&&(e.value=n,e.observers&&e.observers.length&&M(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=le&&le.running;o&&le.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?E.push(i):B.push(i),i.observers&&Oe(i)),o||(i.state=q)}if(E.length>1e6)throw E=[],new Error},!1)),n}function G(e){if(!e.fn)return;ne(e);const n=te;Re(e,e.value,n)}function Re(e,n,t){let l;const s=y,i=$;$=y=e;try{l=e.fn(n)}catch(o){return e.pure&&(e.state=q,e.owned&&e.owned.forEach(ne),e.owned=null),e.updatedAt=t+1,Ne(o)}finally{$=i,y=s}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?ke(e,l):e.value=l,e.updatedAt=t)}function ae(e,n,t,l=q,s){const i={fn:e,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:y,context:y?y.context:null,pure:t};return y===null||y!==$e&&(y.owned?y.owned.push(i):y.owned=[i]),i}function Z(e){if(e.state===0)return;if(e.state===Y)return z(e);if(e.suspense&&j(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<te);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===q)G(e);else if(e.state===Y){const l=E;E=null,M(()=>z(e,n[0]),!1),E=l}}function M(e,n){if(E)return e();let t=!1;n||(E=[]),B?t=!0:B=[],te++;try{const l=e();return Ue(t),l}catch(l){t||(B=null),E=null,Ne(l)}}function Ue(e){if(E&&(Le(E),E=null),e)return;const n=B;B=null,n.length&&M(()=>xe(n),!1)}function Le(e){for(let n=0;n<e.length;n++)Z(e[n])}function Ge(e){let n,t=0;for(n=0;n<e.length;n++){const l=e[n];l.user?e[t++]=l:Z(l)}for(n=0;n<t;n++)Z(e[n])}function z(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const l=e.sources[t];if(l.sources){const s=l.state;s===q?l!==n&&(!l.updatedAt||l.updatedAt<te)&&Z(l):s===Y&&z(l,n)}}}function Oe(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=Y,t.pure?E.push(t):B.push(t),t.observers&&Oe(t))}}function ne(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),l=e.sourceSlots.pop(),s=t.observers;if(s&&s.length){const i=s.pop(),o=t.observerSlots.pop();l<s.length&&(i.sourceSlots[o]=l,s[l]=i,t.observerSlots[l]=o)}}if(e.owned){for(n=e.owned.length-1;n>=0;n--)ne(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function Je(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ne(e,n=y){throw Je(e)}function ie(e){if(typeof e=="function"&&!e.length)return ie(e());if(Array.isArray(e)){const n=[];for(let t=0;t<e.length;t++){const l=ie(e[t]);Array.isArray(l)?n.push.apply(n,l):n.push(l)}return n}return e}function Xe(e,n){return function(l){let s;return C(()=>s=j(()=>(y.context={...y.context,[e]:l.value},Ve(()=>l.children))),void 0),s}}const Qe=Symbol("fallback");function _e(e){for(let n=0;n<e.length;n++)e[n]()}function We(e,n,t={}){let l=[],s=[],i=[],o=0,r=n.length>1?[]:null;return Ce(()=>_e(i)),()=>{let u=e()||[],d,c;return u[Fe],j(()=>{let f=u.length,S,a,v,h,b,_,m,x,P;if(f===0)o!==0&&(_e(i),i=[],l=[],s=[],o=0,r&&(r=[])),t.fallback&&(l=[Qe],s[0]=X(K=>(i[0]=K,t.fallback())),o=1);else if(o===0){for(s=new Array(f),c=0;c<f;c++)l[c]=u[c],s[c]=X(g);o=f}else{for(v=new Array(f),h=new Array(f),r&&(b=new Array(f)),_=0,m=Math.min(o,f);_<m&&l[_]===u[_];_++);for(m=o-1,x=f-1;m>=_&&x>=_&&l[m]===u[x];m--,x--)v[x]=s[m],h[x]=i[m],r&&(b[x]=r[m]);for(S=new Map,a=new Array(x+1),c=x;c>=_;c--)P=u[c],d=S.get(P),a[c]=d===void 0?-1:d,S.set(P,c);for(d=_;d<=m;d++)P=l[d],c=S.get(P),c!==void 0&&c!==-1?(v[c]=s[d],h[c]=i[d],r&&(b[c]=r[d]),c=a[c],S.set(P,c)):i[d]();for(c=_;c<f;c++)c in v?(s[c]=v[c],i[c]=h[c],r&&(r[c]=b[c],r[c](c))):s[c]=X(g);s=s.slice(0,o=f),l=u.slice(0)}return s});function g(f){if(i[c]=f,r){const[S,a]=T(c);return r[c]=a,n(u[c],S)}return n(u[c])}}}function p(e,n){return j(()=>e(n||{}))}const Ye=e=>`Stale read from <${e}>.`;function de(e){const n="fallback"in e&&{fallback:()=>e.fallback};return I(We(()=>e.each,e.children,n||void 0))}function O(e){const n=e.keyed,t=I(()=>e.when,void 0,{equals:(l,s)=>n?l===s:!l==!s});return I(()=>{const l=t();if(l){const s=e.children;return typeof s=="function"&&s.length>0?j(()=>s(n?l:()=>{if(!j(t))throw Ye("Show");return e.when})):s}return e.fallback},void 0,void 0)}function Ze(e,n,t){let l=t.length,s=n.length,i=l,o=0,r=0,u=n[s-1].nextSibling,d=null;for(;o<s||r<i;){if(n[o]===t[r]){o++,r++;continue}for(;n[s-1]===t[i-1];)s--,i--;if(s===o){const c=i<l?r?t[r-1].nextSibling:t[i-r]:u;for(;r<i;)e.insertBefore(t[r++],c)}else if(i===r)for(;o<s;)(!d||!d.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[i-1]&&t[r]===n[s-1]){const c=n[--s].nextSibling;e.insertBefore(t[r++],n[o++].nextSibling),e.insertBefore(t[--i],c),n[s]=t[i]}else{if(!d){d=new Map;let g=r;for(;g<i;)d.set(t[g],g++)}const c=d.get(n[o]);if(c!=null)if(r<c&&c<i){let g=o,f=1,S;for(;++g<s&&g<i&&!((S=d.get(n[g]))==null||S!==c+f);)f++;if(f>c-r){const a=n[o];for(;r<c;)e.insertBefore(t[r++],a)}else e.replaceChild(t[r++],n[o++])}else o++;else n[o++].remove()}}}const ve="_$DX_DELEGATE";function ze(e,n,t,l={}){let s;return X(i=>{s=i,n===document?e():A(n,e(),n.firstChild?null:void 0,t)},l.owner),()=>{s(),n.textContent=""}}function L(e,n,t){let l;const s=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},i=()=>(l||(l=s())).cloneNode(!0);return i.cloneNode=i,i}function fe(e,n=window.document){const t=n[ve]||(n[ve]=new Set);for(let l=0,s=e.length;l<s;l++){const i=e[l];t.has(i)||(t.add(i),n.addEventListener(i,tt))}}function U(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function w(e,n){n==null?e.removeAttribute("class"):e.className=n}function et(e,n,t,l){Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t}function Ie(e,n,t={}){const l=Object.keys(n||{}),s=Object.keys(t);let i,o;for(i=0,o=s.length;i<o;i++){const r=s[i];!r||r==="undefined"||n[r]||(we(e,r,!1),delete t[r])}for(i=0,o=l.length;i<o;i++){const r=l[i],u=!!n[r];!r||r==="undefined"||t[r]===u||!u||(we(e,r,!0),t[r]=u)}return t}function Te(e,n,t){return j(()=>e(n,t))}function A(e,n,t,l){if(t!==void 0&&!l&&(l=[]),typeof n!="function")return ee(e,n,l,t);C(s=>ee(e,n(),s,t),l)}function we(e,n,t){const l=n.trim().split(/\s+/);for(let s=0,i=l.length;s<i;s++)e.classList.toggle(l[s],t)}function tt(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}});t;){const l=t[n];if(l&&!t.disabled){const s=t[`${n}Data`];if(s!==void 0?l.call(t,s,e):l.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function ee(e,n,t,l,s){for(;typeof t=="function";)t=t();if(n===t)return t;const i=typeof n,o=l!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(n=n.toString()),o){let r=t[0];r&&r.nodeType===3?r.data!==n&&(r.data=n):r=document.createTextNode(n),t=H(e,t,l,r)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n;else if(n==null||i==="boolean")t=H(e,t,l);else{if(i==="function")return C(()=>{let r=n();for(;typeof r=="function";)r=r();t=ee(e,r,t,l)}),()=>t;if(Array.isArray(n)){const r=[],u=t&&Array.isArray(t);if(oe(r,n,t,s))return C(()=>t=ee(e,r,t,l,!0)),()=>t;if(r.length===0){if(t=H(e,t,l),o)return t}else u?t.length===0?me(e,r,l):Ze(e,t,r):(t&&H(e),me(e,r));t=r}else if(n.nodeType){if(Array.isArray(t)){if(o)return t=H(e,t,l,n);H(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function oe(e,n,t,l){let s=!1;for(let i=0,o=n.length;i<o;i++){let r=n[i],u=t&&t[e.length],d;if(!(r==null||r===!0||r===!1))if((d=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))s=oe(e,r,u)||s;else if(d==="function")if(l){for(;typeof r=="function";)r=r();s=oe(e,Array.isArray(r)?r:[r],Array.isArray(u)?u:[u])||s}else e.push(r),s=!0;else{const c=String(r);u&&u.nodeType===3&&u.data===c?e.push(u):e.push(document.createTextNode(c))}}return s}function me(e,n,t=null){for(let l=0,s=n.length;l<s;l++)e.insertBefore(n[l],t)}function H(e,n,t,l){if(t===void 0)return e.textContent="";const s=l||document.createTextNode("");if(n.length){let i=!1;for(let o=n.length-1;o>=0;o--){const r=n[o];if(s!==r){const u=r.parentNode===e;!i&&!o?u?e.replaceChild(s,r):e.insertBefore(s,t):u&&r.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}const nt="_farm_dsm2k_1",lt="_hud_dsm2k_5",st="_hud__text_dsm2k_16",J={farm:nt,hud:lt,hud__text:st},rt="_plot_1dqvx_1",it="_plowed_1dqvx_9",ot="_options_1dqvx_45",ct="_flower_1dqvx_56",ut="_flower__img_1dqvx_63",D={plot:rt,plowed:it,"empty-plot":"_empty-plot_1dqvx_21","empty-plot__plus":"_empty-plot__plus_1dqvx_28","plus-shake":"_plus-shake_1dqvx_1",options:ot,flower:ct,flower__img:ut},at=(e,n=":")=>(e?.split(n)??[])?.map(t=>Number.parseInt(t)),ye=500,be="seedcraft_state",[se,De]=T({...[1e3,1001,1002].reduce((e,n)=>([1e3,1001,1002].forEach(t=>e[`${n}:${t}`]={available:!0}),e),{})},{equals:!1}),[N,R]=T(200),[ce,pe]=T(0),dt=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,0],[0,1],[1,-1],[1,0],[1,1]];function ft(e){const n=structuredClone(e);return Object.keys(e).forEach(t=>{const[l,s]=at(t);dt.forEach(([i,o])=>{const r=l+i,u=s+o;n?.[`${r}:${u}`]||(n[`${r}:${u}`]={})})}),n}function re(e,n,t){De(l=>{const s=structuredClone(l);return s[`${e}:${n}`]=t,s})}const[ue,Be]=T([{type:"blue",cost:50,growthDuration:5e3,value:75},{type:"red",cost:75,growthDuration:1e4,value:125},{type:"purple",cost:200,growthDuration:15e3,value:350}]),[Q,je]=T([{type:"white",cost:300,growthDuration:2e4,value:600},{type:"orange",cost:500,growthDuration:3e4,value:1e3}]),ht="_info_1286c_1",gt="_info__title_1286c_14",_t="_info__description_1286c_20",vt="_info__text_1286c_26",F={info:ht,info__title:gt,info__description:_t,info__text:vt,"info__not-enough":"_info__not-enough_1286c_30"};var wt=L("<div><div> Flower</div><div><span>Cost: <span></span><img src=./assets/emerald.webp width=24 height=24 alt=Emerald></span><span>Growth duration: <!>s</span><span>Value: <!> <img src=./assets/emerald.webp width=24 height=24 alt=Emerald>");const he=e=>(()=>{var n=wt(),t=n.firstChild,l=t.firstChild,s=t.nextSibling,i=s.firstChild,o=i.firstChild,r=o.nextSibling,u=i.nextSibling,d=u.firstChild,c=d.nextSibling;c.nextSibling;var g=u.nextSibling,f=g.firstChild,S=f.nextSibling;return S.nextSibling,A(t,()=>e.seed.type,l),A(r,()=>e.seed.cost),A(u,()=>e.seed.growthDuration/1e3,c),A(g,()=>e.seed.value,S),C(a=>{var v=F.info,h=F.info__title,b=F.info__description,_=F.info__text,m=e.seed.cost>N()?F["info__not-enough"]:void 0,x=F.info__text,P=F.info__text;return v!==a.e&&w(n,a.e=v),h!==a.t&&w(t,a.t=h),b!==a.a&&w(s,a.a=b),_!==a.o&&w(i,a.o=_),m!==a.i&&w(r,a.i=m),x!==a.n&&w(u,a.n=x),P!==a.s&&w(g,a.s=P),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),n})(),mt="_seed_1pngg_1",yt={seed:mt};var bt=L("<li><button>");const pt=e=>{const[n,t]=T(!1),l=Ee(ge),s=()=>{l?.plantSeed(e.seed)};return(()=>{var i=bt(),o=i.firstChild;return o.$$click=s,o.addEventListener("mouseleave",()=>t(!1)),o.addEventListener("mouseenter",()=>t(!0)),A(i,p(O,{get when(){return n()},get children(){return p(he,{get seed(){return e.seed}})}}),null),C(r=>{var u=yt.seed,d=`url(./assets/flower-${e.seed.type}.webp)`,c=`Plant ${e.seed.type} seed`,g=e.seed.cost>N();return u!==r.e&&w(o,r.e=u),d!==r.t&&((r.t=d)!=null?o.style.setProperty("--flower",d):o.style.removeProperty("--flower")),c!==r.a&&U(o,"aria-label",r.a=c),g!==r.o&&(o.disabled=r.o=g),r},{e:void 0,t:void 0,a:void 0,o:void 0}),i})()};fe(["click"]);var Se=L("<div>"),St=L("<button>"),xt=L("<button><div>"),$t=L("<ul>"),At=L("<button><img width=35 height=35>");const Ct=e=>{let n;const t=Ee(ge),[l,s]=T(!1),[i,o]=T(!1),r=f=>{f?.target&&!n?.contains(f?.target)&&(s(!1),document.removeEventListener("click",r))},u=()=>{l()||(s(!0),document.addEventListener("click",r))},d=I(()=>{if(!e.plot.seed?.plantedAt||!e.plot.seed.growthDuration)return 0;const f=ce()-(e.plot.seed?.plantedAt+e.plot.seed?.growthDuration);return f<=0?Math.max(0,1+f/e.plot.seed.growthDuration):1}),c=I(()=>e.plot.seed?.plantedAt&&e.plot.seed.growthDuration&&e.plot.seed?.plantedAt+e.plot.seed?.growthDuration<=ce()),g=()=>{c()&&t?.sellFlower(e.plot.seed)};return(()=>{var f=Se(),S=n;return typeof S=="function"?Te(S,f):n=f,A(f,p(O,{get when(){return!e.plot?.available&&!e.plot?.seed},get children(){var a=St();return et(a,"click",t?.buyPlot),A(a,p(O,{get when(){return t?.canBuyPlot},get children(){var v=Se();return C(()=>w(v,D["empty-plot__plus"])),v}})),C(()=>w(a,D["empty-plot"])),a}}),null),A(f,p(O,{get when(){return!e.plot?.seed&&e.plot?.available},get children(){return[(()=>{var a=xt(),v=a.firstChild;return a.$$click=u,C(h=>{var b=D["empty-plot"],_=D["empty-plot__plus"];return b!==h.e&&w(a,h.e=b),_!==h.t&&w(v,h.t=_),h},{e:void 0,t:void 0}),a})(),p(O,{get when(){return l()},get children(){var a=$t();return A(a,p(de,{get each(){return ue()},children:v=>p(pt,{seed:v})})),C(()=>w(a,D.options)),a}})]}}),null),A(f,p(O,{get when(){return e.plot?.seed},get children(){return[(()=>{var a=At(),v=a.firstChild;return a.addEventListener("mouseleave",()=>o(!1)),a.addEventListener("mouseenter",()=>o(!0)),a.$$click=g,C(h=>{var b=D.flower,_=!c(),m=D.flower__img,x=`/src/assets/flower-${e.plot.seed?.type}.webp`,P=`${e.plot.seed?.type} Flower`,K=d();return b!==h.e&&w(a,h.e=b),_!==h.t&&(a.disabled=h.t=_),m!==h.a&&w(v,h.a=m),x!==h.o&&U(v,"src",h.o=x),P!==h.i&&U(v,"alt",h.i=P),K!==h.n&&((h.n=K)!=null?v.style.setProperty("--growth-stage",K):v.style.removeProperty("--growth-stage")),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),a})(),p(O,{get when(){return i()&&e.plot?.seed},get children(){return p(he,{get seed(){return e.plot.seed}})}})]}}),null),C(a=>{var v=D.plot,h={[D.plowed]:e.plot?.available||!!e.plot?.seed},b=+e?.pos?.col+1,_=+e?.pos?.row+1;return v!==a.e&&w(f,a.e=v),a.t=Ie(f,h,a.t),b!==a.a&&((a.a=b)!=null?f.style.setProperty("--grid-col",b):f.style.removeProperty("--grid-col")),_!==a.o&&((a.o=_)!=null?f.style.setProperty("--grid-row",_):f.style.removeProperty("--grid-row")),a},{e:void 0,t:void 0,a:void 0,o:void 0}),f})()};fe(["click"]);const Et="_trigger_1pkg7_1",Pt="_modal_1pkg7_29",kt="_modal__close_1pkg7_43",Lt="_header_1pkg7_60",Ot="_seeds_1pkg7_68",Nt="_seed__item_1pkg7_78",It="_seed__button_1pkg7_86",Tt="_seed__price_1pkg7_102",Dt="_arrow_1pkg7_118",k={trigger:Et,modal:Pt,modal__close:kt,header:Lt,seeds:Ot,seed__item:Nt,seed__button:It,seed__price:Tt,"seed__price-text":"_seed__price-text_1pkg7_106","seed__price-text--not-enough":"_seed__price-text--not-enough_1pkg7_114",arrow:Dt};var Bt=L("<li><button><span><img src=./assets/emerald.webp width=24 height=24 alt=Emerald><span></span></span><span></span><img width=35 height=35>"),jt=L("<button title=Store>Store<img src=/src/assets/emerald.webp width=24 height=24 alt=Emerald>"),qt=L("<ul>"),Ft=L("<dialog><div>Trades<button>X");const Ht=e=>{const[n,t]=T(!1),l=s=>{e.nextSeedPrice>N()||V(()=>{R(i=>i-e.nextSeedPrice),Be(i=>[...i,s]),je(i=>i.filter(o=>o.type!==s.type))})};return(()=>{var s=Bt(),i=s.firstChild,o=i.firstChild,r=o.firstChild,u=r.nextSibling,d=o.nextSibling,c=d.nextSibling;return i.addEventListener("mouseleave",()=>t(!1)),i.addEventListener("mouseenter",()=>t(!0)),i.$$click=()=>l(e.seed),A(u,()=>e.nextSeedPrice),A(s,p(O,{get when(){return n()},get children(){return p(he,{get seed(){return e.seed}})}}),null),C(g=>{var f=k.seed__item,S=k.seed__button,a=N()<e.nextSeedPrice,v=k.seed__price,h=k["seed__price-text"],b={[k["seed__price-text--not-enough"]]:N()<e.nextSeedPrice},_=k.arrow,m=k.seed,x=`./assets/flower-${e.seed.type}.webp`,P=`${e.seed.type} Flower`;return f!==g.e&&w(s,g.e=f),S!==g.t&&w(i,g.t=S),a!==g.a&&(i.disabled=g.a=a),v!==g.o&&w(o,g.o=v),h!==g.i&&w(u,g.i=h),g.n=Ie(u,b,g.n),_!==g.s&&w(d,g.s=_),m!==g.h&&w(c,g.h=m),x!==g.r&&U(c,"src",g.r=x),P!==g.d&&U(c,"alt",g.d=P),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),s})()},Mt=e=>{let n;return[(()=>{var t=jt();return t.$$click=()=>n?.showModal(),C(()=>w(t,k.trigger)),t})(),(()=>{var t=Ft(),l=t.firstChild,s=l.firstChild,i=s.nextSibling,o=n;return typeof o=="function"?Te(o,t):n=t,i.$$click=()=>n?.close(),A(t,p(O,{get when(){return Q().length},get children(){var r=qt();return A(r,p(de,{get each(){return Q()},children:u=>p(Ht,{seed:u,get nextSeedPrice(){return e.nextSeedPrice}})})),C(()=>w(r,k.seeds)),r}}),null),A(t,p(O,{get when(){return!Q().length},children:"You already have everything"}),null),C(r=>{var u=k.modal,d=k.header,c=k.modal__close;return u!==r.e&&w(t,r.e=u),d!==r.t&&w(l,r.t=d),c!==r.a&&w(i,r.a=c),r},{e:void 0,t:void 0,a:void 0}),t})()]};fe(["click"]);var Kt=L("<main><div><div>Balance: <img src=/src/assets/emerald.webp width=24 height=24 alt=Emerald></div><div>Next plot: <img src=/src/assets/emerald.webp width=24 height=24 alt=Emerald></div></div><div>");const ge=Ke(),Vt=()=>{let e;Me(()=>{const r=localStorage.getItem(be);V(()=>{if(r){const u=JSON.parse(r);u.farm&&De(u.farm),u.emeralds&&R(u.emeralds),u.availableSeeds&&Be(u.availableSeeds),u.buyableSeeds&&je(u.buyableSeeds)}pe(new Date().getTime())}),e=setInterval(()=>pe(u=>u+ye),ye)}),Ae(()=>localStorage.setItem(be,JSON.stringify({farm:se(),emeralds:N(),availableSeeds:ue(),buyableSeeds:Q()})));const n=I(()=>ft(se())),t=I(()=>Math.floor(200*1.1**Object.keys(se()).length)),l=I(()=>Math.floor(200*1.5**Object.keys(ue()).length)),s=(r,u)=>d=>{N()>=d.cost&&V(()=>{R(c=>c-d.cost),re(r,u,{seed:{...d,plantedAt:ce()}})})},i=(r,u)=>()=>{N()<t()||V(()=>{R(d=>d-t()),re(r,u,{available:!0})})},o=(r,u)=>d=>{d&&V(()=>{re(r,u,{available:!0}),R(c=>c+d.value)})};return Ce(()=>clearInterval(e)),(()=>{var r=Kt(),u=r.firstChild,d=u.firstChild,c=d.firstChild,g=c.nextSibling,f=d.nextSibling,S=f.firstChild,a=S.nextSibling,v=u.nextSibling;return A(d,N,g),A(f,t,a),A(r,p(Mt,{get nextSeedPrice(){return l()}}),v),A(v,p(de,{get each(){return Object.entries(n())},children:([h,b])=>{const[_,m]=h?.split(":");return p(ge.Provider,{get value(){return{plantSeed:s(_,m),canBuyPlot:N()>=t(),buyPlot:i(_,m),sellFlower:o(_,m)}},get children(){return p(Ct,{plot:b,pos:{col:_,row:m}})}})}})),C(h=>{var b=J.hud,_=J.hud__text,m=J.hud__text,x=J.farm;return b!==h.e&&w(u,h.e=b),_!==h.t&&w(d,h.t=_),m!==h.a&&w(f,h.a=m),x!==h.o&&w(v,h.o=x),h},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()},Rt=document.getElementById("root");ze(()=>p(Vt,{}),Rt);
